# TableCat 模块待办清单

更新时间：2026-02-27
依据文档：`docs/design.md`、`docs/tech-design.md`

## P0 核心闭环
- [ ] 真实截图感知模块
目标：替换占位 `screen` 输入，产出可控长度的截图文本/摘要。
验收：调度触发时 `source:screen` 来自真实桌面内容。

- [ ] 麦克风采集与语音识别模块
目标：替换占位 `mic` 输入，支持静音 1s 自动收束。
验收：可连续说话并稳定转写，输入为 `source:mic`。

- [ ] 系统音频采集与语音识别模块
目标：替换占位 `system_audio` 输入。
验收：系统播放语音时可转写并注入 `source:system_audio`。

- [ ] 感知状态提示模块
目标：感知周期转圈、麦克风“正在接收”提示、静音后关闭。
验收：UI 状态与感知生命周期一致。

- [ ] 设置中心补全模块
目标：支持配置 OpenAI `api_key/model`、缩放 `scale`、退出入口。
验收：设置改动可保存并实时生效（或明确提示需重启）。

- [ ] TTS 播报模块
目标：接入 OpenAI TTS，支持“仅文本不朗读”。
验收：回复时可播报 `content`，关闭后仅显示气泡。

## P1 稳定性与体验
- [ ] 模型请求稳健性模块
目标：统一超时、重试、错误分级（网络/鉴权/解析）。
验收：气泡提示与日志能快速定位失败原因。

- [ ] 结构化回复容错模块
目标：JSON 解析失败时自动修复或安全降级。
验收：模型轻微偏格式时不影响主流程。

- [ ] 记忆治理模块
目标：去重、长度上限、乱码清理、写回失败回滚。
验收：角色卡 `memory` 不再无限膨胀或污染。

- [ ] 角色卡管理增强模块
目标：文件选择器导入、字段校验反馈、路径记忆。
验收：非技术用户可在 UI 内完成角色切换。

- [ ] 聊天窗口增强模块
目标：聊天历史持久化、清空/复制、发送中状态细化。
验收：聊天体验可连续使用，不丢上下文记录。

## P2 规划项（技术文档 TODO）
- [ ] 热词唤醒模块
- [ ] 回复打断模块
- [ ] Live2D 接入模块

## 建议实现顺序
1. 真实截图感知
2. 麦克风采集与识别
3. 系统音频采集与识别
4. TTS 播报
5. 设置中心补全
6. 稳定性与容错
7. TODO 规划项
